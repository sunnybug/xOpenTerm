<Window x:Class="xOpenTerm.BackupRestoreWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="配置备份与恢复" Height="420" Width="620" WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False" Background="{StaticResource BgDark}" ResizeMode="CanResize">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Grid.Column="0" Text="备份目录：%LocalAppData%\xOpenTerm\backup\YYMMDD-HHMMSS" Foreground="{StaticResource TextSecondary}" FontSize="12" VerticalAlignment="Center"/>
            <Button Grid.Column="1" x:Name="RefreshBtn" Content="刷新" Width="70" Padding="8,6" Click="RefreshBtn_Click"/>
        </Grid>
        <Border Grid.Row="1" Background="{StaticResource BgSidebar}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" CornerRadius="{StaticResource RadiusMd}" Padding="8">
            <ListBox x:Name="BackupList" Background="Transparent" Foreground="{StaticResource TextPrimary}" BorderThickness="0">
                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <Border Padding="8,6" Margin="0,2" Background="{StaticResource BgInput}" CornerRadius="{StaticResource RadiusSm}">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding DisplayTime}" Foreground="{StaticResource TextPrimary}" FontWeight="SemiBold" Margin="0,0,12,0"/>
                                    <TextBlock Text="{Binding SizeDisplay}" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center"/>
                                </StackPanel>
                                <Button Grid.Column="1" Content="打开" Width="56" Padding="6,4" Margin="4,0" Click="OpenBtn_Click" Cursor="Hand"/>
                                <Button Grid.Column="2" Content="恢复" Width="56" Padding="6,4" Margin="4,0" Click="RestoreBtn_Click" Cursor="Hand"/>
                            </Grid>
                        </Border>
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,12,0,0">
            <Button Content="关闭" Width="76" Padding="8,6" IsCancel="True" Click="CloseBtn_Click"/>
        </StackPanel>
    </Grid>
</Window>
